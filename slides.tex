\documentclass[12pt]{beamer}
%\documentclass[handout,t]{beamer}
\batchmode

% \usepackage{pgfpages}
% \pgfpagesuselayout{4 on 1}[letterpaper,landscape,border shrink=5mm]

\usetheme{Berlin}  
\usecolortheme{sustechgreen}

\makeatletter                            %resize header in Berlin theme to match a header with no circles
\setbeamertemplate{headline}
{%
  \begin{beamercolorbox}[colsep=1.5pt]{upper separation line head}
  \end{beamercolorbox}
  \begin{beamercolorbox}{section in head/foot}
    \vskip2pt\insertsectionnavigationhorizontal{\paperwidth}{}{}\vskip2pt
  \end{beamercolorbox}%
  \ifbeamer@theme@subsection%
    \begin{beamercolorbox}[colsep=1.5pt]{middle separation line head}
    \end{beamercolorbox}
    \begin{beamercolorbox}[ht=2.5ex,dp=1.125ex,%
      leftskip=.3cm,rightskip=.3cm plus1fil]{subsection in head/foot}
      \usebeamerfont{subsection in head/foot}\insertsubsectionhead
    \end{beamercolorbox}%
  \fi%
  \begin{beamercolorbox}[colsep=1.5pt]{lower separation line head}
  \end{beamercolorbox}
}
\setbeamertemplate{page number in head/foot}[totalframenumber]
\makeatother

\makeatletter            %reduce spacing between section entries in table of contents
\patchcmd{\beamer@sectionintoc}{\vskip1.5em}{\vskip1.0em}{}{}
\makeatother

% packages
\usepackage[utf8]{inputenc}
\usepackage{bookmark}
\hypersetup{bookmarksdepth=4,bookmarksnumbered=true,bookmarksopen=true}
\usepackage{amsmath,amssymb,enumerate,epsfig,bbm,calc,color,ifthen,capt-of,multimedia,hyperref}
\usefonttheme{professionalfonts}
\usepackage[backend=bibtex,citestyle=numeric]{biblatex} %use biblatex package for references
\addbibresource{references.bib}
\usepackage{booktabs}
\usepackage{graphicx}

%define title page
\title{Thesis title}
\subtitle{A thesis defense}
\author[Your name]{Your name\\ \small{Supervised by: supervisor's name}}
\institute[SUSTech]{Southern University of Science and Technology(SUSTech)}
\date{\today}
\logo{\includegraphics[height=1.5cm]{./figures/sustech-logo.pdf}\hspace*{-0.45cm}\vspace*{-0.4cm}}

\AtBeginSection[]        %the table of contents will appear before each section
{
  \begin{frame}<beamer>
      \frametitle{Contents}
      \tableofcontents[currentsection, hideothersubsections]
  \end{frame}
}
\beamerdefaultoverlayspecification{<+->}


\begin{document}

\frame{\titlepage}

%------Table of Contents------%
\begin{frame}{Contents}
    \tableofcontents[hidesubsections]
\end{frame}

%------Introduction------%
\section{Introduction}                   %SECTION 'Introduction'
\begin{frame}{Probability}
  
\end{frame}
\subsection{Motivation}                       %subsection 1
  \begin{frame}{Motivation}
    
  \end{frame}

\subsection{Target}                        %subsection 2
  \begin{frame}{Target}
      
  \end{frame}

 
\end{document}
